{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "cls": [
            "dailyLog"
        ],
        "designer|userClassName": "DAILYLOG"
    },
    "designerId": "0a43a4c5-2da5-4e99-a176-e26bc0c5957e",
    "cn": [
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "fset",
                "title": null
            },
            "designerId": "e87a181c-59d5-4270-b299-bc9d9c05f8db",
            "cn": [
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "My Daily Log",
                        "itemId": "title"
                    },
                    "designerId": "d0f26aae-731d-4227-9dea-55aaa9548efa",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onTitleInitialize",
                                "implHandler": [
                                    "component.element.on({",
                                    "\ttap : function(e, t){",
                                    "\t\t",
                                    "\t\tcontent = {};",
                                    "\t\tcontent.type = 'popup';",
                                    "\t\tcontent.action = 'mylog-instructions';",
                                    "\t\t",
                                    "\t\tHEART.toSensor(content);",
                                    "\t\t",
                                    "\t\tcontent = '<p>Instructions: \"Each night we ask a few quick questions about your day’s activities. These should take less than 1 minute to complete. We don’t expect you to complete it every night, but the more the better, for the research and for your own tracking. A missing value on meditation, mindful eating, or exericise will count as a 0 (not done that day). Thank you so much for committing to the mindful path for your life and for this research.”</p>';",
                                    "",
                                    "\t\tExt.create('Ext.Panel', {",
                                    "\t\t\thideOnMaskTap: true,",
                                    "\t\t\tautoDestroy: true, ",
                                    "\t\t\tmodal: true,",
                                    "\t\t\thtml: content,",
                                    "\t\t\tpadding: 10,",
                                    "\t\t\tleft: 0,",
                                    "\t\t\tstyle: \"color: rgb(128,128,128); font-size: 15px\"",
                                    "\t\t}).showBy(component);",
                                    "",
                                    "\t}",
                                    "});"
                                ],
                                "name": "initialize"
                            },
                            "designerId": "603deaa4-f1fa-4098-b9d5-36981205b99a"
                        }
                    ]
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "thoughts",
                        "label": "How much were you lost in thoughts (of past or future) in the past 5 minutes? <br/><br> <div><span style=\"float:right\">Very Much</span><span>Not at all</span></div>",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "thoughts",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "77ed8283-de77-446f-b849-70073417589d"
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "notice",
                        "label": "Did you notice being present and aware (in the activity you were engaged in) in the past 10 minutes? <br/><br/> <div><span style=\"float:right\">Very Much</span><span>Not at all</span></div>",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "notice",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "3129b84a-a141-4308-84f5-6b7fb05da083"
                },
                {
                    "type": "Ext.field.Checkbox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "(body scan, recorded or self-guided meditation, or mindful breathing)",
                        "itemId": "meditation",
                        "styleHtmlContent": true,
                        "label": "Any formal meditation today?",
                        "labelAlign": "top",
                        "labelWidth": "",
                        "labelWrap": true
                    },
                    "designerId": "20571e87-dae2-4ac6-b580-6b7ba35f4ae1",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMeditationCheck",
                                "implHandler": [
                                    "howlong=checkboxfield.parent.child('#howlong')",
                                    "",
                                    "howlong.enable();",
                                    "howlong.show();"
                                ],
                                "name": "check"
                            },
                            "designerId": "9f7b3f6a-2259-4dab-a22b-1d9815052090"
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMeditationUncheck",
                                "implHandler": [
                                    "howlong=checkboxfield.parent.child('#howlong')",
                                    "",
                                    "howlong.disable();",
                                    "howlong.hide();"
                                ],
                                "name": "uncheck"
                            },
                            "designerId": "ed5efc5f-22aa-431e-a29e-c4f0e8dd0088"
                        }
                    ]
                },
                {
                    "type": "Ext.field.Select",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "disabled": true,
                        "hidden": true,
                        "itemId": "howlong",
                        "label": "How long ?",
                        "labelWidth": "50%",
                        "options": [
                            "[",
                            "\t{text: '5 min or less', value: '0'},",
                            "\t{text: 'Up to 30 min', value: '1'},",
                            "\t{text: 'More than 30 min', value: '2'}",
                            "]"
                        ]
                    },
                    "designerId": "b843232e-3c88-4854-a2e0-470dd0036409"
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "text-group",
                        "margin": null,
                        "layout": "hbox"
                    },
                    "designerId": "fbe015af-fb6a-4579-b7ed-338f75eb7bb2",
                    "cn": [
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "&nbsp;Any&nbsp;",
                                "id": null,
                                "itemId": "left"
                            },
                            "designerId": "a38e0e73-08cd-4ab6-bdd6-72377e81cfea"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "mindful eating",
                                "itemId": "middle",
                                "style": [
                                    "{",
                                    "\tcolor: 'blue'",
                                    "}"
                                ]
                            },
                            "configAlternates": {
                                "style": "object"
                            },
                            "designerId": "359ab1b6-daca-46bd-87ce-7b1356acbd42",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onMylabel62Initialize",
                                        "implHandler": [
                                            "component.element.on({",
                                            "\ttap : function(e, t){",
                                            "\t\t",
                                            "\t\tcontent = {};",
                                            "\t\tcontent.type = 'popup';",
                                            "\t\tcontent.action = 'minful-eating';",
                                            "\t\t",
                                            "\t\tHEART.toSensor(content);",
                                            "",
                                            "\t\tcontent='<p>Mindful eating means eating while paying attention to the full experience of eating. Even just one minute of mindful eating counts as a “yes!”</p>';",
                                            "\t\tcontent+='<p>ð You might check in at be beginning of a meal, taking a mindful minute of breathing.</p>';",
                                            "\t\tcontent+='<p>ð You might check with your sensations of hunger and satiety, rating them on a ten point scale, at the start and in the middle of a meal or snack.</p>';",
                                            "\t\tcontent+='<p>ð Enjoy the pleasure of the food, notice when the pleasure diminishes.</p>';",
                                            "",
                                            "\t\tExt.create('Ext.Panel', {",
                                            "\t\t\thideOnMaskTap: true,",
                                            "\t\t\tautoDestroy: true, ",
                                            "\t\t\tmodal: true,",
                                            "\t\t\thtml: content,",
                                            "\t\t\tpadding: 10,",
                                            "\t\t\tleft: 0,",
                                            "\t\t\tstyle: \"color: rgb(128,128,128); font-size: 15px\"",
                                            "\t\t}).showBy(component);",
                                            "",
                                            "\t}",
                                            "});"
                                        ],
                                        "name": "initialize"
                                    },
                                    "designerId": "1014a578-ded2-4d7a-9d8c-5d0f0156b813"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "&nbsp;today?",
                                "itemId": "right"
                            },
                            "designerId": "33b07637-772e-4968-af03-98094fa7bd06"
                        }
                    ]
                },
                {
                    "type": "Ext.field.Checkbox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": null,
                        "itemId": "mindful",
                        "label": "Any mindful eating today?",
                        "labelWidth": "",
                        "labelWrap": true
                    },
                    "designerId": "aa6a5f20-c6b5-44c6-8f5d-793a37832126",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMindfulInitialize",
                                "implHandler": [
                                    "label = component.label;",
                                    "",
                                    "label.hide();"
                                ],
                                "name": "initialize"
                            },
                            "designerId": "7c4d3f92-0e5c-4182-8782-0def1c3e8b2e"
                        }
                    ]
                },
                {
                    "type": "Ext.field.Select",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": null,
                        "itemId": "exercise",
                        "label": "Any exercise today? (10min or more)",
                        "labelAlign": "top",
                        "labelWidth": "100%",
                        "labelWrap": true,
                        "options": [
                            "[",
                            "\t{text: 'None', value: '0'},",
                            "\t{text: 'Walking (or equivalent)', value: '1'},",
                            "\t{text: 'More than 30 minAerobic (like jogging)', value: '2'},",
                            "\t{text: 'Mind-body activity (yoga, chi gung, etc)', value: '3'}",
                            "]"
                        ]
                    },
                    "designerId": "89266576-1b09-4836-8414-7909f2eb5753",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onAnyExerciseChange",
                                "implHandler": [
                                    "textfield.parent.child('#group').show();"
                                ],
                                "name": "focus"
                            },
                            "designerId": "d78995b9-cc9a-4133-a99d-a3e59a8fc5d3"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": true,
                        "hideAnimation": [
                            "{",
                            "\ttype: 'fadeOut',",
                            "\tduration: 2048",
                            "}"
                        ],
                        "itemId": "group",
                        "showAnimation": [
                            "{",
                            "\ttype: 'fadeIn',",
                            "\tduration: 2048",
                            "}"
                        ]
                    },
                    "configAlternates": {
                        "showAnimation": "object",
                        "hideAnimation": "object"
                    },
                    "designerId": "aacfb43b-6a62-446a-bfd2-f6d7c0b460d1",
                    "cn": [
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "<b>THANK YOU</b>",
                                "itemId": "thanks",
                                "styleHtmlContent": true
                            },
                            "designerId": "10b65a12-95e6-4aff-aa5d-cc00bf81d832"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "Have a few moments to reflect on your day?",
                                "itemId": "describe"
                            },
                            "designerId": "b13e22de-189a-41a3-b0ec-bbc3c1a3cfe4"
                        },
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "ok",
                                "text": "YES"
                            },
                            "designerId": "eb5470dd-a3a6-4d70-9770-1b46725dcf3d",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onOKTap",
                                        "implHandler": [
                                            "container = button.parent.parent;",
                                            "",
                                            "exercise = container.child('#exercise').getValue();",
                                            "mindful = container.child('#mindful').getChecked();",
                                            "",
                                            "meditation=container.child('#meditation').getChecked();",
                                            "howlong = container.child('#howlong').getValue();",
                                            "",
                                            "",
                                            "///////////////////////////////////////////",
                                            "mylog = JSON.parse(HEART.getItem('local', 'mylog'))||{};",
                                            "",
                                            "dead = new Date(Date.now()-Date.now()%(1000*60*60*24*7)+(1000*60*60*24*10));",
                                            "",
                                            "if(mylog.expire){",
                                            "\tif(Date.now()>mylog.expire){",
                                            "\t\tmylog = {};",
                                            "\t\tmylog.expire = dead;",
                                            "\t}",
                                            "",
                                            "}else{",
                                            "\tmylog.expire = dead",
                                            "}",
                                            "",
                                            "if(exercise>0){",
                                            "\texercised = mylog.exercised||{times:0,days:1,updated:Date.now()};",
                                            "\texercised.times+=1;",
                                            "\t",
                                            "\tupdated = (new Date(exercised.updated)).getDay();",
                                            "\ttoday = (new Date()).getDay();",
                                            "\t",
                                            "\tif(updated!=today){",
                                            "\t\texercised.days+=1;",
                                            "\t}",
                                            "\t",
                                            "\texercised.updated=Date.now();",
                                            "\t",
                                            "\tmylog.exercised=exercised; ",
                                            "}",
                                            "",
                                            "if(mindful){",
                                            "\tmindful = mylog.mindful||{times:0,days:1,updated:Date.now()};",
                                            "\tmindful.times+=1;",
                                            "\t",
                                            "\tupdated = (new Date(mindful.updated)).getDay();",
                                            "\ttoday = (new Date()).getDay();",
                                            "\t",
                                            "\tif(updated!=today){",
                                            "\t\tmindful.days+=1;",
                                            "\t}",
                                            "\t",
                                            "\tmindful.updated=Date.now();",
                                            "\t",
                                            "\tmylog.mindful=mindful; ",
                                            "}",
                                            "",
                                            "if(meditation){",
                                            "\tcosting = mylog.meditation||{days:1,minutes:0, updated:Date.now()};",
                                            "\t",
                                            "\tupdated = (new Date(costing.updated)).getDay();",
                                            "\ttoday = (new Date()).getDay();",
                                            "\t",
                                            "\tif(updated!=today){",
                                            "\t\tcosting.days+=1;",
                                            "\t}",
                                            "\t",
                                            "\tcosting.updated=Date.now();",
                                            "\t",
                                            "\tif(howlong==0){",
                                            "\t\tcosting.minutes+=5;\t",
                                            "\t}else if(howlong==1){",
                                            "\t\tcosting.minutes+=15;",
                                            "\t}else if(howlong==2){",
                                            "\t\tcosting.minutes+=30;\t",
                                            "\t}",
                                            "\t",
                                            "\tmylog.meditation=costing;",
                                            "}",
                                            "",
                                            "mylog = JSON.stringify(mylog);",
                                            "",
                                            "HEART.setItem('local', 'mylog', mylog);",
                                            "",
                                            "this.parent.pop();",
                                            "",
                                            "form = Ext.create('HEART.view.Experience');",
                                            "this.parent.push(form);"
                                        ],
                                        "name": "tap"
                                    },
                                    "designerId": "fb68d812-1421-47b4-b97c-56561e01919a"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "no",
                                "text": "NO"
                            },
                            "designerId": "4dc37328-dc79-4f8b-9296-8e17d2a6e8bf",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onNoTap",
                                        "implHandler": [
                                            "this.parent.pop();"
                                        ],
                                        "name": "tap"
                                    },
                                    "designerId": "43f3cd70-3858-4b5a-a8a9-be42d4ed890e"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}
{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "EMITrackExercise"
    },
    "designerId": "f482bdac-9f46-467d-a5c5-5ad903fc37d6",
    "cn": [
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "height": 186,
                "itemId": "fieldSetExercise",
                "title": "Did you exercise today?"
            },
            "designerId": "053ed517-28d3-40f0-84ed-8952facbad99",
            "cn": [
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "action": "exercise",
                        "itemId": "not",
                        "ui": "decline",
                        "text": "Not today"
                    },
                    "designerId": "4ffa9ea0-a9c3-46e1-ae3a-84876d1f31fb",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "action",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onNotTap",
                                "implHandler": [
                                    ""
                                ],
                                "name": "tap"
                            },
                            "designerId": "c34d851d-4353-46eb-8ad9-e44af0638590"
                        }
                    ]
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "yes",
                        "ui": "action",
                        "text": "Yes"
                    },
                    "designerId": "e3055426-42e8-42ac-933f-147b4583c83f",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onYesTap",
                                "implHandler": [
                                    "",
                                    "var exercise = button.parent;",
                                    "var minutes = button.parent.parent.child('#fieldSetMinutes');",
                                    "minutes.child(\"#plus\").setValue('');",
                                    "minutes.setShowAnimation({type: \"fadeIn\", duration: 1024});",
                                    "minutes.show();",
                                    "exercise.hide();"
                                ],
                                "name": "tap"
                            },
                            "designerId": "3b53f36f-7c9c-460f-b8df-350caa6532a5"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "hidden": true,
                "itemId": "fieldSetMinutes",
                "title": "How many minutes<br/>did you exercise?"
            },
            "designerId": "eab14ee3-01e0-429d-a95a-0eb76a50ea1b",
            "cn": [
                {
                    "type": "Ext.field.Number",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "plus",
                        "label": "min",
                        "labelAlign": "right",
                        "name": "time",
                        "required": true,
                        "minValue": 0
                    },
                    "designerId": "2191c641-da0c-48de-875c-1e54348d68ef"
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "action": "exercise",
                        "itemId": "done",
                        "text": "Done"
                    },
                    "designerId": "fc8ad8ca-d2d6-4c2d-aa49-fb959b03af2c",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "action",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMyTimeSave",
                                "implHandler": [
                                    "exercise = HEART.getItem('local', 'exercise');",
                                    "plus = button.parent.child('textfield').getValue();",
                                    "",
                                    "if(exercise===null||isNaN(exercise)){",
                                    "\texercise=0;",
                                    "}",
                                    "",
                                    "exercise = parseInt(exercise);",
                                    "plus = parseInt(plus);",
                                    "exercise += plus;",
                                    "",
                                    "HEART.setItem('local', 'exercise', exercise);"
                                ],
                                "name": "tap"
                            },
                            "designerId": "5785b974-af91-433d-b9d6-8934055d3cc7"
                        }
                    ]
                }
            ]
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "initialize",
                "implHandler": [
                    "exercise = HEART.getItem('local', 'exercise');",
                    "",
                    "if(exercise===null || isNaN(exercise)){",
                    "\texercise = 0;",
                    "}",
                    "var lbl = this.child(\"#lblMins\");",
                    "lbl.setHtml( \"<div align='center'>\"+ exercise +\"min of exercise so far.</div>\");",
                    "",
                    "var plus = this.child(\"#fieldSetMinutes\").child(\"#plus\");",
                    "plus.setValue(0);",
                    "this.callParent();"
                ]
            },
            "designerId": "eb83262a-58b7-45b4-9b2b-ac2a8516fb43"
        },
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "lblMins"
            },
            "designerId": "a37764f8-c00f-4854-a6d9-fd8b35703a09"
        }
    ]
}
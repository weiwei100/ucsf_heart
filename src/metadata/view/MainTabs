{
    "type": "Ext.tab.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "container|animation": "slide",
        "container|animation.duration": null,
        "hideAnimation": [
            "{type :\"fadeOut\", duration : 256}"
        ],
        "id": "mainTabs",
        "showAnimation": [
            "{type :\"fadeIn\", duration : 1024}"
        ],
        "style": null,
        "ui": "light",
        "designer|userClassName": "MainTabs",
        "designer|userAlias": "mainview",
        "designer|initialView": true
    },
    "configAlternates": {
        "showAnimation": "object",
        "hideAnimation": "object"
    },
    "designerId": "3d30dcc2-648a-4eee-a044-22cb7525d54b",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "title": "Home",
                "iconCls": "home",
                "centered": null,
                "id": "homePanel",
                "itemId": null,
                "margin": null,
                "padding": null,
                "style": "background-color:transparent !important;",
                "styleHtmlContent": null,
                "layout": null,
                "modal": null
            },
            "designerId": "ae4b176d-43a2-49de-98d6-2638de2b7330",
            "cn": [
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "<center><img src=\"heart_icon.png\" height=111></center>",
                        "itemId": "image"
                    },
                    "designerId": "cc1300db-e331-42b2-bc5e-59935a8a3a2a"
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "center",
                        "container|pack": "center",
                        "itemId": "header",
                        "layout": "hbox"
                    },
                    "designerId": "dbdca429-6bb6-4fe5-906e-58f4f42712ec",
                    "cn": [
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "<b>Welcome</b>",
                                "itemId": "welcome"
                            },
                            "designerId": "92dd5013-79d9-4c18-9181-05484b845923",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onWelcomeInitialize",
                                        "implHandler": [
                                            "component.element.on({",
                                            "\ttap : function(e, t){",
                                            "",
                                            "",
                                            "\t\tcontent='<p>“HEART stands for health enhancement, emotions, and resiliency training.” In addition to the workshops, we developed the HEART app to help you bring mindfulness into your day.</p>';",
                                            "",
                                            "\t\tcontent+='<p>HEART helps you to develop your own present moment awareness, to find greater calm and stability in the midst of your life’s changing conditions. The HEART app is here to help you work with various aspects of mindfulness—increasing awareness of your own body and mind states, and developing the capacity to “be with” whatever is happening in a more relaxed and balanced way.</p>';",
                                            "",
                                            "\t\tcontent+='<p>You can decide how you want to use the HEART app – using it in whatever way you find most supportive. More use of HEART should lead to greater stress resiliency.”</p>';",
                                            "",
                                            "\t\tExt.create('Ext.Panel', {",
                                            "\t\t\thideOnMaskTap: true,",
                                            "\t\t\tautoDestroy: true, ",
                                            "\t\t\tmodal: true,",
                                            "\t\t\thtml: content,",
                                            "\t\t\tpadding: 10,",
                                            "\t\t\tleft: 0,",
                                            "\t\t\tstyle: \"color: rgb(128,128,128); font-size: 9px\"",
                                            "\t\t}).showBy(component);",
                                            "",
                                            "\t}",
                                            "});"
                                        ],
                                        "name": "initialize"
                                    },
                                    "designerId": "889e6669-e7a5-4696-80f0-ba245117b052"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "<b>[NAME] to H.E.A.R.T.</b>",
                                "itemId": "sometext",
                                "padding": 8
                            },
                            "designerId": "281928ec-06a4-4134-9f37-9bc6d2d693e3"
                        }
                    ]
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": "<center>My Meditation</center>",
                        "itemId": "meditation"
                    },
                    "designerId": "7171abe3-dab9-47a1-84a2-12ef03dca6e3",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onMeditationsInitialize",
                                "implHandler": [
                                    "component.element.on({",
                                    "\ttap : function(e, t){",
                                    "\t\tcomponent.parent.parent.setActiveItem(2);",
                                    "\t}",
                                    "});"
                                ],
                                "name": "initialize"
                            },
                            "designerId": "79f5145a-8793-497d-a7e2-a2aad98389bb"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "center",
                        "container|pack": "center",
                        "itemId": "myintention",
                        "layout": "hbox"
                    },
                    "designerId": "ac7218c8-88e9-4fab-a76c-b8c125384ad0",
                    "cn": [
                        {
                            "type": "Ext.field.Select",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "centered": false,
                                "floatingCls": null,
                                "itemId": "intention",
                                "label": "Intention",
                                "labelWidth": "50%",
                                "options": null,
                                "store": "Intentions"
                            },
                            "designerId": "d59314b4-f640-4b78-89e4-8cccf5afb937"
                        }
                    ]
                },
                {
                    "type": "basiceventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onHomePanelActivate",
                        "implHandler": [
                            "store = Ext.getStore(\"Intentions\");",
                            "store.sort(\"timestamp\", 'DESC');\t\t",
                            "store.sync();",
                            "",
                            "selection = container.child('#myintention').child('#intention');",
                            "selection.reset();",
                            "",
                            "text = container.child('#header').child('#sometext').getHtml();",
                            "",
                            "user = HEART.getItem('local', 'user')||{};",
                            "",
                            "user = JSON.parse(user);",
                            "",
                            "if(user.name===null){return;}",
                            "",
                            "text = text.replace('[NAME]', user.name);",
                            "",
                            "container.child('#header').child('#sometext').setHtml(text);"
                        ],
                        "name": "activate"
                    },
                    "designerId": "bc00c797-e816-497c-bcdf-6af432a8bded"
                }
            ]
        },
        {
            "type": "Ext.navigation.View",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "title": "I'm stressed!",
                "iconCls": "user",
                "id": "stressed",
                "itemId": null
            },
            "designerId": "ff4f20c8-12a9-4f1b-a90e-82d983d05723"
        },
        {
            "type": "Ext.navigation.View",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "title": "Exercises",
                "iconCls": "organize",
                "id": "exercises"
            },
            "designerId": "3089ff51-81cd-495a-8ef3-5a5e87a3752f",
            "cn": [
                {
                    "type": "Ext.dataview.List",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "id": "exerciseList",
                        "hideOnMaskTap": true,
                        "allowDeselect": true,
                        "disableSelection": false,
                        "emptyText": "Nothing",
                        "pressedDelay": 64,
                        "store": "EMXs",
                        "grouped": true,
                        "onItemDisclosure": null,
                        "preventSelectionOnDisclose": null
                    },
                    "designerId": "5d7f16dc-0707-4ead-97ab-17b165af9941",
                    "cn": [
                        {
                            "type": "Ext.XTemplate",
                            "reference": {
                                "name": "itemTpl",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "implHandler": [
                                    "<div>{title}</div>"
                                ],
                                "designer|displayName": "itemTpl"
                            },
                            "designerId": "db9a4c69-c52b-469f-9c27-b04f9f814dc4"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.navigation.View",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "title": "Settings",
                "badgeText": "",
                "iconCls": "settings",
                "hidden": false,
                "itemId": "settingsNav"
            },
            "designerId": "283cb5c8-83b8-4b55-a2b0-dd9db4743d03",
            "cn": [
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "title": "Settings",
                        "centered": null,
                        "hidden": null,
                        "id": "settings",
                        "itemId": null,
                        "autoDestroy": false,
                        "scrollable": null
                    },
                    "designerId": "e7443fc1-6b32-4c1d-adbd-54f3b760a2dc",
                    "cn": [
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "name",
                                "label": "First name",
                                "labelWidth": "55%",
                                "labelWrap": true,
                                "name": "name",
                                "required": null,
                                "autoCapitalize": true,
                                "maxLength": 15
                            },
                            "designerId": "c41d49e3-436a-4336-9eb7-ffcb7f00556b"
                        },
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "pid",
                                "label": "Participant Id",
                                "labelWidth": "55%",
                                "labelWrap": true,
                                "name": "pid"
                            },
                            "designerId": "a122be32-6857-4ff7-a20c-085f6eb196f9"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "border": null,
                                "html": "<p>Please keep the app silent between:</p>",
                                "itemId": "silent",
                                "style": "color: rgb(128,128,128)"
                            },
                            "designerId": "5e69f43e-8562-4de2-8f0e-8ca2ee361692"
                        },
                        {
                            "type": "Ext.field.Select",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "awake",
                                "label": "Awake Time",
                                "labelWidth": "55%",
                                "labelWrap": true,
                                "name": "awake",
                                "readOnly": false
                            },
                            "designerId": "a1bbeb64-14ef-4f45-965e-12c53e7a7f0a"
                        },
                        {
                            "type": "Ext.field.Select",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "sleep",
                                "label": "Sleep Time",
                                "labelWidth": "55%",
                                "labelWrap": true,
                                "name": "sleep",
                                "readOnly": false
                            },
                            "designerId": "72edc4b0-a099-4f0d-a711-f53baae2eb5b"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "<p>Please remind me to fill out my Daily Log in the evening at:</p>",
                                "itemId": "remind",
                                "style": "color: rgb(128,128,128)"
                            },
                            "designerId": "0421ee4f-4a85-461c-b991-133f1259fb03"
                        },
                        {
                            "type": "Ext.field.Select",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "daily",
                                "label": "Daily Log Time",
                                "labelWidth": "55%",
                                "labelWrap": true,
                                "name": "daily"
                            },
                            "designerId": "9d8e4dfd-6dc7-4bfd-9ffb-a78425445ba2"
                        },
                        {
                            "type": "Ext.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "saveSettings",
                                "text": "Save"
                            },
                            "designerId": "2e7e451c-9885-4138-97cd-1c1bc95dbca1",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onSaveSettingsTap",
                                        "implHandler": [
                                            "user = HEART.getItem('local', 'user');",
                                            "",
                                            "values = button.parent.getValues();",
                                            "",
                                            "var empty;",
                                            "",
                                            "for(field in values){",
                                            "\tif(values[field]=='')",
                                            "\t{ empty=true; break; }",
                                            "}",
                                            "",
                                            "if(empty){",
                                            "\tExt.Msg.alert('Error', \"You must fill out all information before continuing\", Ext.emptyFn);",
                                            "\treturn;",
                                            "}",
                                            "",
                                            "if(user!=null){",
                                            "\tuser = JSON.parse(user);",
                                            "\tvalue = user.priority||2;\t",
                                            "\tvalues.priority = value;",
                                            "}",
                                            "",
                                            "user = JSON.stringify(values);",
                                            "",
                                            "HEART.setItem('local', 'user', user);",
                                            "",
                                            "button.parent.child('#buttons').show();",
                                            "",
                                            "succ = function(response) {",
                                            "\tconsole.log(response);",
                                            "};",
                                            "",
                                            "fail = function(response) {",
                                            "\tconsole.log(response);",
                                            "};",
                                            "",
                                            "HEART.toUser( values, succ, fail );",
                                            "",
                                            "button.parent.parent.parent.setActiveItem(0);",
                                            "this.getTabBar().show();"
                                        ],
                                        "name": "tap"
                                    },
                                    "designerId": "03828b46-11a7-4a27-9cf8-b1d879265cb1"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "buttons"
                            },
                            "designerId": "240b8466-ed81-42da-808d-806529586657",
                            "cn": [
                                {
                                    "type": "Ext.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "docked": null,
                                        "itemId": "intention",
                                        "text": "Intention Set"
                                    },
                                    "designerId": "0c4c4517-ae7d-43c0-96aa-8f4d86d7c7dc",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onIntentionSetTap",
                                                "implHandler": [
                                                    "form = Ext.create('HEART.view.EMIIntentionSet');",
                                                    "form.emxType = 'EMIIntentionSet';",
                                                    "form.goola = 'settings';",
                                                    "button.parent.parent.parent.push(form);",
                                                    ""
                                                ],
                                                "name": "tap"
                                            },
                                            "designerId": "ec1ca58b-1825-40e0-997c-04e54b1a80ce"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "docked": null,
                                        "itemId": "mindful",
                                        "text": "Mindful Habit"
                                    },
                                    "designerId": "4f7742f8-ebbf-428f-8a44-0d93281ca76a",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onMindfullTap",
                                                "implHandler": [
                                                    "form = Ext.create('HEART.view.EMIMindHabitSet');",
                                                    "form.emxType = 'EMIMindHabitSet';",
                                                    "form.goola = 'settings';",
                                                    "button.parent.parent.parent.push(form);"
                                                ],
                                                "name": "tap"
                                            },
                                            "designerId": "eb86ad5f-cb90-4808-92e0-affc997af694"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "docked": null,
                                        "itemId": "notification",
                                        "text": "Notification Frequency"
                                    },
                                    "designerId": "658a955a-b968-4ee5-9803-7856021b1b6e",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onNotificationFrequencyTap",
                                                "implHandler": [
                                                    "form = Ext.create('HEART.view.EMIPushSlider');",
                                                    "form.emxType = 'EMIPushSlidert';",
                                                    "form.goola = 'settings';",
                                                    "button.parent.parent.parent.push(form);"
                                                ],
                                                "name": "tap"
                                            },
                                            "designerId": "dc06667e-f750-4617-8c35-52b273e2ede1"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.tab.Bar",
            "reference": {
                "name": "tabBar",
                "type": "object"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "center",
                "docked": "bottom",
                "ui": "light"
            },
            "designerId": "78f5e37b-c4f2-4c08-8466-6dab9b3617fa"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "initialize",
                "implHandler": [
                    "this.callParent();",
                    "",
                    "user = HEART.getItem('local','user');",
                    "settingsNav = this.child('#settingsNav');",
                    "settings = settingsNav.child('#settings');",
                    "buttons = settings.child('#buttons');",
                    "",
                    "awakeOptions = [];",
                    "",
                    "for( i=5; i<12; i++ ){\t",
                    "\toption = { text: i +': 00', value: i };\t",
                    "\tawakeOptions.push(option);",
                    "\toption = { text: i +': 30', value: i+0.5 };",
                    "\tawakeOptions.push(option);",
                    "}",
                    "",
                    "settings.child('#awake').setOptions(awakeOptions);",
                    "",
                    "sleepOptions = [];",
                    "",
                    "for( i=18; i<24; i++ ){\t",
                    "\toption = { text: i +': 00', value: i };\t",
                    "\tsleepOptions.push(option);",
                    "\toption = { text: i +': 30', value: i+0.5 };",
                    "\tsleepOptions.push(option);",
                    "}",
                    "",
                    "settings.child('#sleep').setOptions(sleepOptions);",
                    "",
                    "dailyOptions = [];",
                    "",
                    "for( i=17; i<24; i++ ){",
                    "\toption = { text: i+\": 00\", value: i };",
                    "\tdailyOptions.push(option);",
                    "\toption = { text: i+\": 30\", value: i+0.5 };",
                    "\tdailyOptions.push(option);",
                    "}",
                    "",
                    "settings.child('#daily').setOptions(dailyOptions);",
                    "",
                    "if( user===null ){",
                    "\tthis.setActiveItem(settingsNav);",
                    "\tthis.getTabBar().hide();",
                    "\tbuttons.hide();",
                    "}else{",
                    "\tuser = JSON.parse(user);",
                    "\tsettings.setValues(user);",
                    "}",
                    "",
                    "//form = Ext.create('HEART.view.Experience');",
                    "",
                    "//Ext.Viewport.add(form);"
                ]
            },
            "designerId": "9c748870-c0b3-4c73-8cd6-790fb210800f"
        }
    ]
}
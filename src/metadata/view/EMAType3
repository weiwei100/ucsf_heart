{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "margin": null,
        "designer|userClassName": "EMAType3",
        "scrollable": "vertical"
    },
    "designerId": "74a66690-e41f-48f5-a274-7d59108223a6",
    "cn": [
        {
            "type": "Ext.Label",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "cls": [
                    "desc"
                ],
                "html": "What emotions are you experiencing in this moment? <br/> <div><span style=\"float:right\">a lot</span><span>none</span></span>",
                "itemId": "question",
                "margin": "8px"
            },
            "designerId": "edbb549f-0996-4368-822b-56a6b47c1496"
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "goola": "ema",
                "itemId": "fset",
                "instructions": null,
                "title": null
            },
            "designerId": "e839560e-d96e-4c34-86e1-79b2079841a5",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "goola",
                    "type": "string"
                }
            ],
            "cn": [
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "label": "I am feeling anger:",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "anger",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "e019506a-54bf-411a-9356-847789d9c7c4"
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "label": "I am feeling sad:",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "sadness",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "444bf23e-2ccd-47c9-a5cd-d4079ba31ce0"
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "label": "I am feeling joyful",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "joy",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "b40e24f4-399b-413b-8421-bc6f35c93f1e"
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "label": "I am feeling calm:",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "calm",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "9db7bb35-31e3-410b-8379-0df457610761"
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "label": "I am feeling fearful or anxious:",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "fora",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "01dc4908-ed75-4283-8ffe-06b2035b0abe"
                },
                {
                    "type": "Ext.field.Slider",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "label": "I am feeling grateful:",
                        "labelAlign": "top",
                        "labelWrap": true,
                        "name": "grate",
                        "value": [
                            50
                        ]
                    },
                    "designerId": "4f1d15c1-3618-4e88-91d1-558ac70e900c"
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "action": "exercise",
                        "disabled": null,
                        "itemId": "done",
                        "text": "Done"
                    },
                    "designerId": "27e9b9fa-f65d-4c0c-b22c-acd9baed63d0",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "action",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onDoneRelease",
                                "implHandler": [
                                    "anger=button.parent.child('#anger').getValue();",
                                    "fora=button.parent.child('#fora').getValue();",
                                    "",
                                    "user = HEART.getItem('local', 'user');",
                                    "user = JSON.parse(user);",
                                    "",
                                    "user.anger=anger;",
                                    "user.fora=fora;",
                                    "",
                                    "user = JSON.stringify(user);",
                                    "HEART.setItem('local', 'user', user);",
                                    "",
                                    "if(this.goola=='followup'){return;}",
                                    "",
                                    "if(anger>50||fora>50){",
                                    "\t\t",
                                    "\tEMX = ['EMITensionCheck', 'EMIGeneralMindfulness', 'EMIAudio4', 'EMIAudio7'];",
                                    "\t",
                                    "\ttype = EMX[Math.floor(EMX.length*Math.random())]; ",
                                    "",
                                    "\tform = Ext.create('HEART.view.'+type);",
                                    "",
                                    "\tExt.Viewport.getActiveItem().setActiveItem(2);",
                                    "\tExt.Viewport.getActiveItem().getActiveItem().push(form);",
                                    "\t",
                                    "\tif(Math.random()<1/3){",
                                    "\t\t",
                                    "\t\tsetTimeout(function(){",
                                    "",
                                    "\t\t\tform = Ext.create('HEART.view.'+this.emxType);",
                                    "\t\t\tform.goola = 'followup';",
                                    "",
                                    "\t\t\tExt.Viewport.getActiveItem().setActiveItem(2);",
                                    "\t\t\tExt.Viewport.getActiveItem().getActiveItem().push(form);",
                                    "",
                                    "\t\t}, 1000*60*15);",
                                    "\t\t\t\t",
                                    "\t\tsetTimeout(function(){",
                                    "\t\t\t",
                                    "\t\t\tuser = HEART.getItem('local', 'user');",
                                    "\t\t\tuser = JSON.parse(user);",
                                    "",
                                    "\t\t\tif(anger>50||fora>50){",
                                    "\t\t\t\t",
                                    "\t\t\t\tform = Ext.create('HEART.view.'+this.emxType);",
                                    "\t\t\t\tform.goola = 'followup';",
                                    "",
                                    "\t\t\t\tExt.Viewport.getActiveItem().setActiveItem(2);",
                                    "\t\t\t\tExt.Viewport.getActiveItem().getActiveItem().push(form);",
                                    "\t\t\t}",
                                    "",
                                    "",
                                    "\t\t}, 1000*60*30);",
                                    "\t\t",
                                    "\t}\t",
                                    "\t",
                                    "}",
                                    "",
                                    "button.fireEvent('tap');"
                                ],
                                "name": "release"
                            },
                            "designerId": "e78283b1-4bc5-4ec5-8f5f-c4f11d538ab2"
                        }
                    ]
                }
            ]
        }
    ]
}
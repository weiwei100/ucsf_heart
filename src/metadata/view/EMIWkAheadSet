{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "cls": [
            "weekAhead"
        ],
        "contentEl": null,
        "hideAnimation": [
            "{type :\"fadeOut\", duration : 768}"
        ],
        "html": null,
        "showAnimation": [
            "{type :\"fadeIn\", duration : 768}"
        ],
        "designer|userClassName": "EMIWkAheadSet"
    },
    "configAlternates": {
        "showAnimation": "object",
        "hideAnimation": "object"
    },
    "designerId": "5389dc62-18e3-4b44-b685-1a5eda636bcb",
    "cn": [
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "centered": null,
                "html": null,
                "itemId": "fset",
                "instructions": null,
                "title": "Visualize the week ahead..."
            },
            "designerId": "974bfad9-47f2-49e1-8030-2031b33b1924",
            "cn": [
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "html": null,
                        "itemId": "intention"
                    },
                    "designerId": "f511bae9-5f9d-4eae-90a1-eb9410e1a154",
                    "cn": [
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "Think about how you want to live this week.",
                                "itemId": "describe",
                                "style": "color: rgb(128,128,128); font-size: 15px;",
                                "styleHtmlContent": true
                            },
                            "designerId": "4583074a-2833-4201-9ffd-69e04855d9eb"
                        },
                        {
                            "type": "Ext.field.TextArea",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "intention",
                                "clearIcon": false,
                                "label": "What would you like your intention to be for this week?",
                                "labelAlign": "top",
                                "labelWrap": true,
                                "name": "intention",
                                "value": null,
                                "maxLength": 100,
                                "placeHolder": null
                            },
                            "designerId": "04adadf0-17ec-4df4-9010-57cf7b1878ef",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onTextareaChange",
                                        "implHandler": [
                                            "value = textfield.getValue().toUpperCase();",
                                            "button = this.child('#fset').child('#done');",
                                            "",
                                            "if(this.doValidation()){",
                                            "\tbutton.enable();",
                                            "}else{",
                                            "\tbutton.disable();",
                                            "}",
                                            "",
                                            "textfield.setValue(value);"
                                        ],
                                        "name": "keyup"
                                    },
                                    "designerId": "aa3b7318-4271-4141-b3da-78fe074d49a2"
                                }
                            ]
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "Example Intentions: <br/> <p>Feel more compassion for myself, be aware of my breadth, notice when I feel grateful to others...</p>",
                                "itemId": "example",
                                "style": "color: rgb(128,128,128); font-size: 15px;"
                            },
                            "designerId": "0ee885ee-f747-4c62-8d16-60336b7d4f68"
                        }
                    ]
                },
                {
                    "type": "Ext.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "habit"
                    },
                    "designerId": "a5b1958e-3110-4a73-96a6-6dd3930e7afb",
                    "cn": [
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "Choose 1 activity for this week.<br/> See what it feels like to bring your full awareness to this. <br/> You can change it at any time.",
                                "itemId": "describe",
                                "style": "color: rgb(128,128,128); font-size: 15px;",
                                "styleHtmlContent": true
                            },
                            "designerId": "d9745078-9808-49f9-ab75-b6e24c0fa625"
                        },
                        {
                            "type": "Ext.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "habit",
                                "label": "My mindful habit this week is:",
                                "labelAlign": "top",
                                "labelWrap": true,
                                "name": "habit"
                            },
                            "designerId": "126777db-b36b-47fa-b5d6-cf2f974437fa",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onHabitKeyup",
                                        "implHandler": [
                                            "button = this.child('#fset').child('#done');",
                                            "",
                                            "if(this.doValidation()){",
                                            "\tbutton.enable();",
                                            "}else{",
                                            "\tbutton.disable();",
                                            "}"
                                        ],
                                        "name": "keyup"
                                    },
                                    "designerId": "ca63c40f-e943-491b-8d24-89b78a7b68fd"
                                }
                            ]
                        },
                        {
                            "type": "Ext.field.Select",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "time",
                                "label": "Remind me of this at",
                                "labelWidth": "65%",
                                "name": "time",
                                "options": null
                            },
                            "designerId": "b18e0ff5-fff6-4f02-b0ce-327953e7567e"
                        },
                        {
                            "type": "Ext.Label",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "html": "Example: <p>Brushing my teeth, Driving, Kissing my child goodnight...</p>",
                                "itemId": "example",
                                "style": "color: rgb(128,128,128); font-size: 13px"
                            },
                            "designerId": "d66b10ac-ac62-4d26-a9f5-c1ced1dcff0c"
                        }
                    ]
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "action": null,
                        "cls": [
                            "button"
                        ],
                        "disabled": true,
                        "itemId": "done",
                        "text": "Done"
                    },
                    "designerId": "ead851ed-1be3-4986-b86f-6eb76a27a0c6",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "action",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onAheadSave",
                                "implHandler": [
                                    "intention = this.child('#fset').child('#intention').child('#intention').getValue();",
                                    "habit = this.child('#fset').child('#habit').child('#habit').getValue();",
                                    "time = this.child('#fset').child('#habit').child('#time').getValue();",
                                    "",
                                    "user = HEART.getItem('local', 'user');",
                                    "user = JSON.parse(user);",
                                    "",
                                    "user.intention=intention;",
                                    "user.habit = habit; ",
                                    "user.time = time;",
                                    "",
                                    "succ = function(response) {",
                                    "\tconsole.log(response);",
                                    "};",
                                    "",
                                    "fail = function(response) {",
                                    "\tconsole.log(response);",
                                    "};",
                                    "",
                                    "HEART.toUser( user, succ, fail );",
                                    "",
                                    "user = JSON.stringify(user);",
                                    "",
                                    "HEART.setItem('local', 'user', user);",
                                    "",
                                    "content = this.getValues();",
                                    "content.type = this.emxType;",
                                    "HEART.toSensor(content);",
                                    "",
                                    "this.parent.pop();"
                                ],
                                "name": "tap"
                            },
                            "designerId": "2eaba0ed-8bb7-41b8-880d-22aa58cf8d69"
                        }
                    ]
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "notnow",
                        "text": "Not Now"
                    },
                    "designerId": "cf85f0a6-5ab4-4925-a17e-c59748f54ff7",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onNotNowTap",
                                "implHandler": [
                                    "HEART.notNow({page:this.emxType});",
                                    "",
                                    "this.parent.pop();"
                                ],
                                "name": "tap"
                            },
                            "designerId": "1a2d119c-d7ad-4fd0-a0c0-d23baaa1b9c1"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onFormpanelInitialize",
                "implHandler": [
                    "time = this.child('#fset').child('#habit').child('#time');",
                    "",
                    "options = [];",
                    "",
                    "for( i=0; i<24; i++ ){\t",
                    "\toption = { text: i +': 00', value: i };\t",
                    "\toptions.push(option);",
                    "\toption = { text: i +': 30', value: i+0.5 };",
                    "\toptions.push(option);",
                    "}",
                    "",
                    "time.setOptions(options);",
                    ""
                ],
                "name": "initialize"
            },
            "designerId": "31a1176c-7f65-48c2-94c5-f6a470f17896"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "doValidation",
                "implHandler": [
                    "intention = this.child('#fset').child('#intention').child('#intention').getValue();",
                    "habit = this.child('#fset').child('#habit').child('#habit').getValue();",
                    "",
                    "if(intention.length<2){",
                    "\treturn false;",
                    "}else if(habit.length<2){",
                    "\treturn false;",
                    "}else{",
                    "\treturn true;",
                    "}",
                    ""
                ]
            },
            "designerId": "5061fadf-76d1-46b1-9912-01ffbbec241f"
        }
    ]
}
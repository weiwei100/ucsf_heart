{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "MainController"
    },
    "designerId": "337b1891-c296-4f0e-b2d1-6ceb928a8088",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onEditIntentionTap",
                "fn": "onEditIntentionTap",
                "implHandler": [
                    "form = Ext.create('HEART.view.EMIIntentionSet');",
                    "form.emxType = 'EMIIntentionSet';",
                    "Ext.Viewport.setActiveItem(form);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "button[action=intention]"
            },
            "designerId": "55eee0b7-5be8-4cdd-a3f0-36f5f55cf490"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onHomeSliderChange",
                "fn": "onHomeSliderChange",
                "implHandler": [
                    "value = Slider.getValue();",
                    "",
                    "uuid = HEART.uuid;",
                    "",
                    "HEART.setItem('local', 'home', value);",
                    "",
                    "content = me.parent.getValues();",
                    "",
                    "content.type = 'homePanel';",
                    "content.uuid = uuid;",
                    "",
                    "console.log(content);",
                    "",
                    "var succ = function(response) {",
                    "\tconsole.log(response);",
                    "};",
                    "",
                    "var fail = function(response) {",
                    "\tfeeds = Ext.getStore(\"Feeds\");",
                    "\tcontent.timestamp = Date.now();",
                    "\tfeeds.add(data);",
                    "\tfeeds.sort(\"timestamp\", 'DESC');\t\t",
                    "\tfeeds.sync();",
                    "};",
                    "",
                    "HEART.toSensor(content, succ, fail);",
                    "",
                    "me.parent.child('#homeDone').enable();",
                    "",
                    "setTimeout(function(){Slider.setValue(value/2)}, 60000);"
                ],
                "name": "change",
                "designer|targetType": "Ext.field.Slider",
                "designer|controlQuery": "#homePanel #homeSlider"
            },
            "designerId": "44f8bf47-029b-4625-a0e4-0df640978587"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onHomeDoneTap",
                "fn": "onHomeDoneTap",
                "implHandler": [
                    "button.disable();"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#homePanel #homeDone"
            },
            "designerId": "d1278f3b-bc3b-411c-b34a-84503b2348da"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onSettingDone",
                "fn": "onSettingDone",
                "implHandler": [
                    "user = HEART.getItem('local', 'user');",
                    "",
                    "values = button.parent.getValues();",
                    "values.uuid = HEART.uuid;",
                    "",
                    "if(user!=null){",
                    "\tuser = JSON.parse(user);",
                    "\tvalue = user.priority||2;\t",
                    "\tvalues.priority = value;",
                    "}",
                    "",
                    "user = JSON.stringify(values);",
                    "",
                    "HEART.setItem('local', 'user', user);",
                    "",
                    "var succ = function() {",
                    "\tExt.Msg.alert(':)', \"<div align='center'>Data Submitted</div>\", Ext.emptyFn);",
                    "};",
                    "",
                    "var fail = function() {",
                    "\tExt.Msg.alert(';(', \"<div align='center'>Network Error</div>\", Ext.emptyFn);",
                    "};",
                    "",
                    "HEART.toUser( {uuid: HEART.uuid, wake: values.wake_time, sleep: values.sleep_time}, succ, fail );",
                    "",
                    "this.getHomePanel().parent.getTabBar().show();",
                    "",
                    "form = Ext.create('HEART.view.EMIPushSlider');",
                    "form.emxType = 'EMIPushSlider';",
                    "",
                    "Ext.Viewport.setActiveItem(form);"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#settings #done"
            },
            "designerId": "4ce12db4-0d98-4ba9-809b-bdc0cc7e7b76"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "homePanel",
                "ref": "homePanel",
                "selector": "#homePanel"
            },
            "designerId": "655ff30e-1efb-4127-add5-ac3648130da1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "stressed",
                "ref": "stressed",
                "selector": "#stressed"
            },
            "designerId": "e080f3c3-a465-438e-a73c-6526c7eff50f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onActive",
                "fn": "onActive",
                "implHandler": [
                    "this.renderIntention();"
                ],
                "name": "activeitemchange",
                "designer|targetType": "Ext.form.Panel",
                "designer|controlQuery": "formpanel"
            },
            "designerId": "735469cf-418b-4623-9a94-ce35ff6448fa"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "renderIntention",
                "fn": "renderIntention",
                "implHandler": [
                    "value = HEART.getItem('local', 'intention');",
                    "if(value!=null){",
                    "\tthis.getHomePanel().child('button').setText(value);",
                    "}"
                ]
            },
            "designerId": "beedc266-12b0-48b2-8a73-8a1efa362087"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "launch",
                "fn": "launch",
                "implHandler": [
                    "this.renderIntention();"
                ]
            },
            "designerId": "64ac1c69-fee3-4109-8849-00cd10a7c40c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onNumberFieldKeyup",
                "fn": "onNumberFieldKeyup",
                "implHandler": [
                    "var value = textfield.getValue();",
                    "\t",
                    "if(/\\D+/.test(value)){",
                    "\tvar message = \"<div align='center'>Please don't enter letters or other characters.</div>\";",
                    "\tExt.Msg.alert(';(', message, Ext.emptyFn);",
                    "\ttextfield.setValue(0);",
                    "}"
                ],
                "name": "keyup",
                "designer|targetType": "Ext.field.Text",
                "designer|controlQuery": "textfield[goola=number]"
            },
            "designerId": "d5776b1d-41da-493f-925a-1921c2d5deac"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "onHomeSliderInitialize",
                "fn": "onHomeSliderInitialize",
                "implHandler": [
                    "value = HEART.getItem('local', 'home');",
                    "component.setValue(value);"
                ],
                "name": "initialize",
                "designer|targetType": "Ext.field.Slider",
                "designer|controlQuery": "#homePanel #homeSlider"
            },
            "designerId": "a0549356-72bf-436c-942e-0dcd9d6ce75e"
        }
    ]
}